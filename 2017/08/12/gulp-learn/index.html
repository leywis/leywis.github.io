














<!doctype html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
  <meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no", user-scalable=no">
  <title>Weekend Task：gulp入门和API简述leywis</title>
  <link rel="shortcut icon" href="">
  
    
    
      <link rel="stylesheet" href="/css/bootstrap.min.css">
    
      <link rel="stylesheet" href="/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="/css/atom-one-dark.css">
    
      <link rel="stylesheet" href="/css/jquery.fancybox.css">
    
      <link rel="stylesheet" href="/css/nprogress.min.css">
    
      <link rel="stylesheet" href="/css/valine.css">
    
      <link rel="stylesheet" href="/css/life.css">
    
  

  

  <!-- jQuery first, then Tether, then Bootstrap JS. -->
  
  
  
    <script src="/js/jquery-2.2.4.min.js"></script>
  
    <script src="https://cdn1.lncld.net/static/js/3.1.0/av-min.js"></script>
  
    <script src="/js/jquery.pjax.js"></script>
  
    <script src="/js/nprogress.min.js"></script>
  
    <script src="/js/tether.min.js"></script>
  
    <script src="/js/bootstrap.min.js"></script>
  
    <script src="/js/highlight.min.js"></script>
  
    <script src="/js/highlightjs-line-numbers.min.js"></script>
  
    <script src="/js/jquery.fancybox.js"></script>
  
    <script src="/js/jquery.qrcode.min.js"></script>
  
    <script src="/js/Valine.min.js"></script>
  
  
</head>
<body>
<script>AV.init({appId:'tottyFkKtKRYuVwMoiRTUK9P-gzGzoHsz',appKey:'20wYvr7TN6to2x09dOxrbY1J'});</script>
<script type="text/javascript">
      var config = {
            ClasS: 'Counter',
            el:'.views',
            elP: '.views-post'
      }
</script>
<div class="container">
    <div class="row blog-box-shadow">
        <!--博客主栏开始-->
        <div class="col-xl-9 col-lg-12 blog-main" id="pjax-box">
            <header class="blog-header">
                <a href="http://leywis.github.io" class="blog-header-mobile-title">leywis</a>
                <a href="javascript:;" class="blog-header-navbar-btn"><i class="fa fa-bars"></i></a>
                <nav class="blog-header-navbar blog-header-fixed">
                    <ul class="blog-navbar-links">
                        
                          <li class="blog-nav-item"><a href="/" class="transition">首页</a></li>
                        
                          <li class="blog-nav-item"><a href="/about/" class="transition">关于</a></li>
                        
                          <li class="blog-nav-item"><a href="/links/" class="transition">链接</a></li>
                        
                        <div class="blog-navbar-right">
                            <form action="">
                                <div class="input-group">
                                    <input type="text" class="blog-header-search" placeholder="search...">
                                    <buttn type="submit" class="blog-header-search-btn"><i class="fa fa-search"></i></buttn>
                                </div>
                            </form>
                        </div>
                    </ul>
                </nav>
            </header>
                
<header class="blog-post-page-title">
    <h4>Weekend Task：gulp入门和API简述</h4>
    <time datetime="2017-08-12T08:35:47.000Z"><i class="fa fa-clock-o"></i>2017-08-12</time>
    
    
    
    
	
        <span><i class="fa fa-folder-o"></i>
    		
    	       <a href="/categories/学习笔记/" rel="categories" data-toggle="tooltip" data-placement="top" title="Linux">学习笔记</a>
    		
        </span>
	
    
</header>
<div class="blog-main-post blog-post-page-box">
    <article class="blog-post-block blog-post-page-content">
        <section>
            
                <hr>
<blockquote>
<p> gulp是一种前端代码构建工具，可以帮助我们完成javascript/sass/coffee/less/html/css等文件进行测试、检查、合并、压缩、格式化、浏览器自动刷新、部署文件生成，并监听文件在改动后重复指定的这些步骤。</p>
</blockquote>
<h4 id="1-安装gulp"><a href="#1-安装gulp" class="headerlink" title="1.安装gulp"></a>1.安装gulp</h4><p>gulp是基于node的自动任务运作器，所以我们首先需要安装node，可以去<a href="https://nodejs.org" target="_blank" rel="external">node官网</a>进行下载。安装完成后全局安装gulp。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install --global gulp</div></pre></td></tr></table></figure>
<p>全局安装后，再把安装到项目依赖中。全局安装是为了可以使用gulp的命令，而安装到项目依赖则是为了方便文件引入。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install --save-dev gulp</div></pre></td></tr></table></figure></p>
<p>然后在项目根目录下简历gulpfile.js的配置文件。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var gulp = require(<span class="string">"gulp"</span>);</div><div class="line"></div><div class="line">gulp.task(<span class="string">"default"</span>,<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">	// 此处添加你的默认任务</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>最后，运行gulp任务。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ gulp</div></pre></td></tr></table></figure></p>
<p><strong>如果要执行单个的任务，只需要输入<code>gulp &lt;task&gt; &lt;othertask&gt;</code>。</strong></p>
<h4 id="2-gulp-API"><a href="#2-gulp-API" class="headerlink" title="2.gulp API"></a>2.gulp API</h4><blockquote>
<p><code>gulp</code>借鉴了Unix操作系统中管道（pipe）的思想，前一级的输入，直接在后一级输出。<code>gulp</code>本身只提供了四个简洁的接口，许多功能则是借助插件来实现。</p>
</blockquote>
<h5 id="2-1-gulp-task-name-deps-fn"><a href="#2-1-gulp-task-name-deps-fn" class="headerlink" title="2.1 gulp.task(name[,deps],fn)"></a>2.1 gulp.task(name[,deps],fn)</h5><p><code>gulp</code>是基于task来进行的。</p>
<ul>
<li>name:任务的名称，必填。</li>
<li>deps:该任务的前置任务，也就是该任务的依赖，必须在依赖的任务执行完毕，才会执行本任务。</li>
<li>fn:任务的回调函数。</li>
</ul>
<p>例如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">gulp.task(<span class="string">"defaulttask"</span>,<span class="string">"depsTask"</span>,<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">	console.log(<span class="string">"this is a Task"</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h5 id="2-2-gulp-src-globs-options"><a href="#2-2-gulp-src-globs-options" class="headerlink" title="2.2 gulp.src(globs[,options])"></a>2.2 gulp.src(globs[,options])</h5><p><code>globs</code> 是匹配文件，可以是一个string或者数组，其匹配的规则如下：</p>
<ul>
<li><code>src/test.js</code> -匹配制定的文件；</li>
<li><code>*</code> -匹配所有文件，例如<code>&quot;src/*.js&quot;</code>表示匹配src目录下所有的js文件；</li>
<li><code>**</code> -匹配子文件夹，例如<code>&quot;src/**/*.js&quot;</code>表示匹配src所有子目录下中所有的js文件；</li>
<li><code>{}</code> -匹配多个属性，例如<code>&quot;src/{a,b}.js&quot;</code>匹配src目录下的a.js和b.js,<code>src/*.{jpg,png,gif}</code>-表示匹配src下所有的jpg，png，gif的图片文件；</li>
<li><code>!</code> 排除文件</li>
</ul>
<p><code>options</code>可以选参数，有三个默认值，buffer,read,base;<br>其中option.base表示可予以保留的文件路径。</p>
<p>例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">gulp.src(<span class="string">"src/&#123;a,b&#125;/*.js"</span>); // 匹配src中a,b两个子文件夹下的js文件</div><div class="line">gulp.task(<span class="string">"myTask"</span>,<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">	<span class="built_in">return</span> gulp.src(<span class="string">"./src/**/*.js"</span>,&#123;base:<span class="string">"./src/"</span>&#125;)</div><div class="line">				.pipe(uglify())</div><div class="line">				.pipe(gulp.dest(<span class="string">"./build/"</span>))</div><div class="line">			// 此处会把 src/user/a.js 输出到 build/user/a.js</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h5 id="2-3-gulp-dest-path-option"><a href="#2-3-gulp-dest-path-option" class="headerlink" title="2.3 gulp.dest(path[,option])"></a>2.3 gulp.dest(path[,option])</h5><p>指定处理完后文件输出的路径；</p>
<ul>
<li><code>path</code> 必填，输出路径。</li>
<li><code>option</code> 可选参数，Object，有两个属性cwd，mode;都是string类型，cwd在相对路径中用到，而mode指定创建文件夹的权限。</li>
</ul>
<h5 id="2-4-gulp-watch-globs-opts-task-，或者-gulp-watch-globs-opts-cb"><a href="#2-4-gulp-watch-globs-opts-task-，或者-gulp-watch-globs-opts-cb" class="headerlink" title="2.4 gulp.watch(globs[,opts],task)，或者 gulp.watch(globs[,opts,cb])"></a>2.4 gulp.watch(globs[,opts],task)，或者 gulp.watch(globs[,opts,cb])</h5><p>监听指定文件的变化，然后执行相关任务</p>
<ul>
<li><code>globs</code> 指定监听文件的路径</li>
<li><code>opts</code> 可选，具体可以参考<a href="https://github.com/shama/gaze" target="_blank" rel="external">https://github.com/shama/gaze</a></li>
<li><code>task</code> 监听到变化的时候执行的任务</li>
<li><code>cb</code> 可选，类型 <strong>function</strong> ，每个文件变化执行的回调函数</li>
</ul>
<p>例如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">gulp.task(<span class="string">'watch-less'</span>, <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line"> gulp.watch(<span class="string">'./src/**/*.less'</span>,<span class="keyword">function</span>(event)&#123;</div><div class="line">   console.log(<span class="string">'less event'</span>+event.type+<span class="string">' '</span>+event.path)</div><div class="line"> &#125;); </div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<hr>
<blockquote>
<p>gulp只需掌握这四个简单的API就够了，剩下的就是要根据我们的项目需要，配合插件来实现我们的项目工程化。</p>
</blockquote>

            
        </section>
        <footer class="blog-post-page-tags">
        
			
				
			<a href="/tags/gulp/" rel="tag" data-toggle="tooltip" data-placement="top" title="Linux">gulp</a>
				
			<a href="/tags/前端工程化/" rel="tag" data-toggle="tooltip" data-placement="top" title="Linux">前端工程化</a>
				
			
		
        </footer>
    </article>
    <article class="blog-post-page-readmore">
    	
    	
		
			<a href="/2017/08/13/flex-learn/" class="blog-post-page-readmore-prev" data-toggle="tooltip" data-placement="top" title="flex弹性布局（语法）">上一篇</a>
		

		
		
			<a href="/2017/08/05/hello-world/" class="blog-post-page-readmore-next" data-toggle="tooltip" data-placement="top" title="剪彩：A new beginning">下一篇</a>
		

        <div style="clear: both;"></div>
    </article>

    <article class="blog-post-block blog-post-page-content">
            <div class="row">
            
                <div class="col-md-4 col-sm-4 post-page-more-btn">
                    <span class="post-comments-btn btn btn-info btn-block" data-toggle="tooltip" data-placement="top" title="本站采用Disqus评论组件，若您没有科学上网可能会无法查看并评论">加载评论</span>
                </div>
            
                <div class="col-md-4 col-sm-4 post-page-more-btn">
                    <span  data-toggle="modal" data-target="#post-donate-content">
                        <span id="post-donate-btn" class="btn btn-danger btn-block" data-toggle="tooltip" data-placement="top" title="如果您觉得本文还不错或者对您有帮助，可以考虑打赏一下作者哦">打赏本文</span>
                    </span>
                </div>
                <div class="col-md-4 col-sm-4 post-page-more-btn">
                    <span  data-toggle="modal" data-target="#post-qrcode-content">
                        <span><span id="post-qrcode-btn" class="btn btn-success btn-block" data-toggle="tooltip" data-placement="top" title="微信扫描二维码手机端查看本文及分享本文">二维码</span></span>
                    </span>
                </div>
            </div>
        <div class="post-more-function-br"></div>

        <div class="modal fade" id="post-donate-content" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">打赏本文</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="row post-donate-content">
                            <div class="col-md-4">
                                <p>支付宝</p>
                                <img class="post-donate-content-img no-lightbox" src="http://dl.weic96.cn/logo.png"/>
                            </div>
                            <div class="col-md-4">
                                <p>微信</p>
                                <img class="post-donate-content-img no-lightbox" src="http://dl.weic96.cn/logo.png"/>
                            </div>
                            <div class="col-md-4">
                                <p>财付通</p>
                                <img class="post-donate-content-img no-lightbox" src="http://dl.weic96.cn/logo.png"/>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="post-qrcode-content" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">文章二维码</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="row post-qrcode-content">
                            <span class="post-qrcode-content-canvas"></span>
                            <img class="post-qrcode-content-img no-lightbox" src=""/>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div>
        
        <script>
            // post QRcode
            // 中文转码
            function toUtf8(str) {
                var out, i, len, c;
                out = "";
                len = str.length;
                for (i = 0; i < len; i++) {
                    c = str.charCodeAt(i);
                    if ((c >= 0x0001) && (c <= 0x007F)) {
                        out += str.charAt(i);
                    } else if (c > 0x07FF) {
                        out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));
                        out += String.fromCharCode(0x80 | ((c >> 6) & 0x3F));
                        out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
                    } else {
                        out += String.fromCharCode(0xC0 | ((c >> 6) & 0x1F));
                        out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
                    }
                }
                return out;
            }
            // 生成
            var qrcode= $('.post-qrcode-content-canvas').qrcode({width: 150,height: 150,text: toUtf8("http://leywis.github.io/2017/08/12/gulp-learn/")}).hide();
            var canvas=qrcode.find('canvas').get(0);
            $('.post-qrcode-content-img').attr('src',canvas.toDataURL('image/jpg'));
        </script>

        
    </article>
    
      <article class="blog-post-block blog-post-page-content" style="margin-top:2.5em;">
      
      <div class="comment"></div>
      <script>
          new Valine({
              av: AV, // source from av-min.js
              el: '.comment' ,
              notify:false, // 邮件提醒 v1.1.4新增
              verify:false, // 验证码 v1.1.4新增
              app_id: 'tottyFkKtKRYuVwMoiRTUK9P-gzGzoHsz',
              app_key: '20wYvr7TN6to2x09dOxrbY1J',
              placeholder: 'ヾﾉ≧∀≦)o来啊，快活啊!',
              path:window.location.pathname // 路径配置 v1.1.5新增，可填window.location.href
          });
      </script>
      </article>
      
</div>

                
            <footer class="blog-footer">
                <p class="blog-footer-left">Copyright © 2017 <a href="http://leywis.github.io">leywis</a></p>
                <p class="blog-footer-right">Powered by <a href="https://hexo.io" target="_blank">Hexo</a>,Themes <a href="https://weic.me/themes-life/" target="_blank">Life</a></p>
            </footer>
        </div><!--博客主栏结束-->
        <!--博客侧边栏开始-->
        <div class="col-xl-3 blog-sidebar">
            <div class="blog-sidebar-title">
                <a href="">leywis</a>
            </div>
            <div class="blog-sidebar-logo">
                <img src="http://dl.weic96.cn/logo.png">
            </div>
            <div class="blog-sidebar-count blog-sidebar-padding">
                <div class="blog-sidebar-count-left">
                    <p class="blog-sidebar-count-p">5</p>
                    <span class="blog-sidebar-count-span">文章</span>
                </div>
                <div class="blog-sidebar-count-right">
                    <p class="blog-sidebar-count-p">8</p>
                    <span class="blog-sidebar-count-span">标签</span>
                </div>
                <div style="clear: both;"></div>
            </div>
            <div class="blog-sidebar-icon blog-sidebar-padding">
                <ul>
                    <li><a href="" class="icon-github" target="_blank" data-toggle="tooltip" data-placement="top" title="Github"><i class="fa fa-github"></i></a></li>
                    <li><a href="" class="icon-weibo" target="_blank" data-toggle="tooltip" data-placement="top" title="新浪微博"><i class="fa fa-weibo"></i></a></li>
                    <li><a href="" class="icon-twitter" target="_blank" data-toggle="tooltip" data-placement="top" title="Twitter"><i class="fa fa-twitter"></i></a></li>
                    <!--<li><a href="" class="icon-facebook" target="_blank" data-toggle="tooltip" data-placement="top" title="FaceBook"><i class="fa fa-facebook"></i></a></li>-->
                    <li><a href="mailto:" class="icon-email" data-toggle="tooltip" data-placement="top" title="E-Mail"><i class="fa fa-envelope"></i></a></li>
                    <li><a href="" class="icon-rss" data-toggle="tooltip" target="_blank" data-placement="top" title="RSS"><i class="fa fa-rss"></i></a></li>
                </ul>
            </div>
            <div class="blog-sidebar-categories">
                <h4 class="blog-sidebar-h4"><i class="fa fa-folder-open"></i>&nbsp;文章分类</h4>
                <ul class="list-group blog-sidebar-padding">
                  
                    
                      <li class="list-group-item justify-content-between">
                          <a href="/categories/踩坑之路/">踩坑之路</a>
                          <span class="badge badge-default badge-pill">1</span>
                      </li>
                    
                      <li class="list-group-item justify-content-between">
                          <a href="/categories/学习笔记/">学习笔记</a>
                          <span class="badge badge-default badge-pill">2</span>
                      </li>
                    
                      <li class="list-group-item justify-content-between">
                          <a href="/categories/心情随笔/">心情随笔</a>
                          <span class="badge badge-default badge-pill">1</span>
                      </li>
                    
                  
                </ul>
            </div>
            <div class="blog-sidebar-tags">
                <h4 class="blog-sidebar-h4"><i class="fa fa-tag"></i>&nbsp;标签云</h4>
                <ul class="blog-sidebar-tags-ul blog-sidebar-padding">
                  
                    
                      <li><a href="/tags/jquery-zepto/" class="tag-could" data-toggle="tooltip" data-placement="top" title="jquery/zepto">jquery/zepto</a></li>
                    
                      <li><a href="/tags/Tips/" class="tag-could" data-toggle="tooltip" data-placement="top" title="Tips">Tips</a></li>
                    
                      <li><a href="/tags/gulp/" class="tag-could" data-toggle="tooltip" data-placement="top" title="gulp">gulp</a></li>
                    
                      <li><a href="/tags/前端工程化/" class="tag-could" data-toggle="tooltip" data-placement="top" title="前端工程化">前端工程化</a></li>
                    
                      <li><a href="/tags/css/" class="tag-could" data-toggle="tooltip" data-placement="top" title="css">css</a></li>
                    
                      <li><a href="/tags/flex/" class="tag-could" data-toggle="tooltip" data-placement="top" title="flex">flex</a></li>
                    
                      <li><a href="/tags/成长/" class="tag-could" data-toggle="tooltip" data-placement="top" title="成长">成长</a></li>
                    
                      <li><a href="/tags/心情/" class="tag-could" data-toggle="tooltip" data-placement="top" title="心情">心情</a></li>
                    
                  
                </ul>
            </div>
            <script>
              // 博客侧栏标签云随机色
              var tag_cloud = $('.tag-could');
              tag_cloud.each(function () {
                  var Cnum = 9;
                  var Crand = parseInt(Math.random() * Cnum);
                  $(this).addClass("tag-could" + Crand);
              })
            </script>
            <!--返回顶部按钮-->
            <div class="retop">
                <i class="fa fa-angle-up"></i>
            </div>
        </div><!--博客侧边栏结束-->
    </div>
</div>
<script src="/js/LeanStatistics.min.js"></script>
<script src="/js/Life.js"></script>
<script type="text/javascript">
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
    otherF();
    LeanStatistics();
    $(document).pjax('a', '#pjax-box', {fragment:'#pjax-box', timeout:8000}).on('pjax:complete', function() {
      $('pre code').each(function(i, block){
        hljs.highlightBlock(block);
      })
      $('code.hljs').each(function(i, block) {
        hljs.lineNumbersBlock(block);
      });
      LeanStatistics();
    }).on('pjax:start', function() { NProgress.start(); }).on('pjax:end',   function() {
      NProgress.done();
      otherF();
    });
</script>
</body>
</html>
